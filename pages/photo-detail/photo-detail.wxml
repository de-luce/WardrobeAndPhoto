<!--pages/photo-detail/photo-detail.wxml-->
<view class="detail-container" wx:if="{{photo}}">
  <!-- 图片区域 -->
  <view class="image-section" bindtap="previewImage">
    <image class="detail-image" src="{{photo.imageUrl}}" mode="widthFix" lazy-load></image>
    <view class="image-overlay">
      <text class="preview-hint">点击查看大图</text>
    </view>
  </view>

  <!-- 信息区域 -->
  <view class="info-section">
    <view class="info-item">
      <text class="info-label">描述</text>
      <text class="info-value" wx:if="{{photo.description}}">{{photo.description}}</text>
      <text class="info-value placeholder" wx:else>暂无描述</text>
    </view>

    <view class="info-item">
      <text class="info-label">保存时间</text>
      <text class="info-value">{{photo.createTime}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button class="action-btn edit-btn" bindtap="showEditModal">编辑描述</button>
    <button class="action-btn delete-btn" bindtap="deletePhoto">删除</button>
  </view>

  <!-- 编辑模态框 -->
  <view class="modal {{showEditModal ? 'show' : ''}}" catchtap="hideEditModal">
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">编辑描述</text>
        <text class="modal-close" bindtap="hideEditModal">×</text>
      </view>
      <view class="modal-body">
        <textarea 
          class="textarea-field" 
          placeholder="请输入照片描述" 
          value="{{editDescription}}"
          bindinput="onDescriptionInput"
          maxlength="200"
          auto-height
        />
        <button class="save-btn" bindtap="saveEdit">保存</button>
      </view>
    </view>
  </view>
</view>

