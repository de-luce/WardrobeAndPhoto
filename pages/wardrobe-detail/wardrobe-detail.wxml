<!--pages/wardrobe-detail/wardrobe-detail.wxml-->
<view class="detail-container" wx:if="{{item}}">
  <!-- 图片区域 -->
  <view class="image-section" bindtap="previewImage">
    <image class="detail-image" src="{{item.imageUrl}}" mode="widthFix" lazy-load></image>
    <view class="image-overlay">
      <text class="preview-hint">点击查看大图</text>
    </view>
  </view>

  <!-- 信息区域 -->
  <view class="info-section">
    <view class="info-item">
      <text class="info-label">标题</text>
      <text class="info-value">{{item.title}}</text>
    </view>
    
    <view class="info-item" wx:if="{{item.tags && item.tags.length > 0}}">
      <text class="info-label">标签</text>
      <view class="tags-container">
        <text class="tag" wx:for="{{item.tags}}" wx:key="index">{{item}}</text>
      </view>
    </view>

    <view class="info-item">
      <text class="info-label">添加时间</text>
      <text class="info-value">{{item.createTime}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button class="action-btn edit-btn" bindtap="onShowEditModal">编辑</button>
    <button class="action-btn delete-btn" bindtap="deleteItem">删除</button>
  </view>

  <!-- 编辑模态框 -->
  <view class="modal {{showEditModal ? 'show' : ''}}" catchtap="hideEditModal">
    <view class="modal-content" catchtap="stopPropagation">
      <view class="modal-header">
        <text class="modal-title">编辑信息</text>
        <text class="modal-close" bindtap="hideEditModal">×</text>
      </view>
      <view class="modal-body">
        <view class="input-group">
          <text class="input-label">标题</text>
          <input 
            class="input-field" 
            placeholder="请输入标题" 
            value="{{editTitle}}"
            bindinput="onTitleInput"
          />
        </view>
        <view class="input-group">
          <text class="input-label">标签（用逗号分隔）</text>
          <input 
            class="input-field" 
            placeholder="例如：春夏,休闲,上衣" 
            value="{{editTags}}"
            bindinput="onTagsInput"
          />
        </view>
        <button class="save-btn" bindtap="saveEdit">保存</button>
      </view>
    </view>
  </view>
</view>

